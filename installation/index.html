<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Installation - Buildarr</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="../assets/_mkdocstrings.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Buildarr</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Installation</a>
                            </li>
                            <li class="navitem">
                                <a href="../configuration/" class="nav-link">Configuration</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Plugins <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../plugins/" class="dropdown-item">Introduction</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">buildarr-sonarr</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/sonarr/" class="dropdown-item">Introduction</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Configuration</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/sonarr/configuration/host/" class="dropdown-item">Host Configuration</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/media-management/" class="dropdown-item">Media Management</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Profiles</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/sonarr/configuration/profiles/quality/" class="dropdown-item">Quality Profiles</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/profiles/language/" class="dropdown-item">Language Profiles</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/profiles/delay/" class="dropdown-item">Delay Profiles</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/profiles/release/" class="dropdown-item">Release Profiles</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../plugins/sonarr/configuration/quality/" class="dropdown-item">Quality</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/indexers/" class="dropdown-item">Indexers</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/download-clients/" class="dropdown-item">Download Clients</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/import-lists/" class="dropdown-item">Import Lists</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/connect/" class="dropdown-item">Connect</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/metadata/" class="dropdown-item">Metadata</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/tags/" class="dropdown-item">Tags</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/general/" class="dropdown-item">General</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/ui/" class="dropdown-item">UI</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../usage/" class="nav-link">Usage</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href=".." class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../configuration/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#installing-and-running-buildarr" class="nav-link">Installing and running Buildarr</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#standalone-application" class="nav-link">Standalone application</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#docker" class="nav-link">Docker</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#docker-compose" class="nav-link">Docker Compose</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#automatic-deployment-using-ansible" class="nav-link">Automatic deployment using Ansible</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="installing-and-running-buildarr">Installing and running Buildarr<a class="headerlink" href="#installing-and-running-buildarr" title="Permanent link">#</a></h1>
<p>Many users will already have configuraton management automatically deploying their *Arr stacks, and Buildarr is designed to seamlessly integrate into existing setups.</p>
<h2 id="standalone-application">Standalone application<a class="headerlink" href="#standalone-application" title="Permanent link">#</a></h2>
<p>Buildarr can be installed as a standalone Python application using <code>pip</code>. Python 3.8 or later is required.</p>
<p>Buildarr also runs natively on Windows.</p>
<p>As Buildarr can be extended with external plugins, it is recommended to create a dedicated virtual environment to install Buildarr.</p>
<pre class="highlight"><code class="language-bash">$ python3 -m venv buildarr-venv
$ . buildarr-venv/bin/activate
$ python3 -m pip install buildarr</code></pre>
<p>Once installed and a configuration file has been created, you can execute an update of your stack by running the following command.</p>
<pre class="highlight"><code class="language-bash"> $ buildarr run</code></pre>
<p>Buildar can also be run as a daemon to schedule periodic updates of your stack.</p>
<pre class="highlight"><code class="language-bash">$ buildarr daemon</code></pre>
<h2 id="docker">Docker<a class="headerlink" href="#docker" title="Permanent link">#</a></h2>
<p>Buildarr is available on Docker Hub as a Docker image.</p>
<pre class="highlight"><code class="language-bash">$ docker pull callum027/buildarr:latest</code></pre>
<p>Once you have a configuration file, create a folder to store the configuration and auto-generated secrets files to mount into the Docker container.</p>
<p>As API keys and login credentials are to be stored here, they should have strict permissions set, with ownership exclusively
set to the <code>PUID</code> (process user ID) and <code>PGID</code> (process group ID) to be configured on the container.</p>
<pre class="highlight"><code class="language-bash">$ mkdir --mode=700 /path/to/config
$ sudo chown -R &lt;PUID&gt;:&lt;PGID&gt; /path/to/config</code></pre>
<p>You can start a Buildarr container by calling <code>docker run</code>, bind mounting the configuration directory as <code>/config</code>.</p>
<p>By default, the Buildarr Docker container runs in daemon mode.</p>
<pre class="highlight"><code class="language-bash">$ docker run -d --name buildarr --restart=always -v /path/to/config:/config -e PUID=&lt;PUID&gt; -e PGID=&lt;PGID&gt; callum027/buildarr:latest</code></pre>
<p>For configuration testing purposes, you can call <code>buildarr run</code> using the Docker image to run an update of your stack and exit.</p>
<pre class="highlight"><code class="language-bash">$ docker run --rm -v /path/to/config:/config -e PUID=&lt;PUID&gt; -e PGID=&lt;PGID&gt; callum027/buildarr:latest run</code></pre>
<h2 id="docker-compose">Docker Compose<a class="headerlink" href="#docker-compose" title="Permanent link">#</a></h2>
<p>Buildarr can be integrated into a Docker Compose environment containing your *Arr stack instances. <code>depends_on</code> should be used to ensure Docker Compose services are started in the correct order.</p>
<p>Here is an example of a <code>docker-compose.yml</code> file with Buildarr managing one Sonarr instance.</p>
<pre class="highlight"><code class="language-yaml">version: "3.7"

services:
  sonarr:
    image: linuxserver/sonarr:3.0.9
    container_name: sonarr
    restart: always
    ports:
      - 127.0.0.1:8989:8989
    volumes:
      - ./sonarr:/config
      - /path/to/downloads:/downloads
      - /path/to/videos:/videos
    environment:
      TZ: Pacific/Auckland
      PUID: "1000"
      PGID: "1000"

  buildarr:
    image: callum027/buildarr:latest
    container_name: buildarr
    restart: always
    volumes:
      - ./buildarr:/config
    environment:
      TZ: Pacific/Auckland
      PUID: "1000"
      PGID: "1000"
    depends_on:
      - sonarr</code></pre>
<p>The corresponding instance configuration in <code>buildarr.yml</code> would look something like this:</p>
<pre class="highlight"><code class="language-yaml">---

buildarr:
  watch_config: true
  update_days:
    - "monday"
    - "tuesday"
    - "wednesday"
    - "thursday"
    - "friday"
    - "saturday"
    - "sunday"
  update_times:
    - "03:00"

sonarr:
  # Configuration common to all Sonarr instances can be defined here.
  # settings:
  #   ...
  instances:
    # Name of the instance as referred to by Buildarr.
    # Assign instance-specific configuration to it.
    sonarr:
      host: "sonarr"
      port: 8989
      protocol: "http"
      # Define instance-specific Sonarr settings here.
      settings:
        ...</code></pre>
<h2 id="automatic-deployment-using-ansible">Automatic deployment using Ansible<a class="headerlink" href="#automatic-deployment-using-ansible" title="Permanent link">#</a></h2>
<p>Buildarr is designed to be automatically deployed with your *Arr stack using tools such as <a href="https://www.ansible.com">Ansible</a>.</p>
<p>The easiest way to do this is to create a Docker Compose environment, and deploy it using the <a href="https://docs.ansible.com/ansible/latest/collections/community/docker/docker_compose_module.html">community.docker.docker_compose</a> module.</p>
<p>For applications that expose their API key on an unauthenticated endpoint (such as Sonarr V3), Buildarr will automatically retrieve and use the API keys. For these applications, no manual configuration is required once Buildarr and the managed applications are deployed.</p>
<p>Applications that require an account to be setup (Sonarr V4) are not yet supported.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
