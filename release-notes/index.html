<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Buildarr Core - Buildarr</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <link href="../assets/_mkdocstrings.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Buildarr</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Release Notes <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active">Buildarr Core</a>
</li>
                                    
<li>
    <a href="../plugins/sonarr/release-notes/" class="dropdown-item">Buildarr Sonarr Plugin</a>
</li>
                                    
<li>
    <a href="../plugins/radarr/release-notes/" class="dropdown-item">Buildarr Radarr Plugin</a>
</li>
                                    
<li>
    <a href="../plugins/prowlarr/release-notes/" class="dropdown-item">Buildarr Prowlarr Plugin</a>
</li>
                                    
<li>
    <a href="../plugins/jellyseerr/release-notes/" class="dropdown-item">Buildarr Jellyseerr Plugin</a>
</li>
                                    
<li>
    <a href="../docker/release-notes/" class="dropdown-item">Buildarr Docker Container</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../installation/" class="nav-link">Installation</a>
                            </li>
                            <li class="navitem">
                                <a href="../configuration/" class="nav-link">Configuration</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Plugins <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../plugins/" class="dropdown-item">Introduction</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Buildarr Sonarr Plugin</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/sonarr/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../plugins/sonarr/release-notes/" class="dropdown-item">Release Notes</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Configuration</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/sonarr/configuration/host/" class="dropdown-item">Host Configuration</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/media-management/" class="dropdown-item">Media Management</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Profiles</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/sonarr/configuration/profiles/quality/" class="dropdown-item">Quality Profiles</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/profiles/language/" class="dropdown-item">Language Profiles</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/profiles/delay/" class="dropdown-item">Delay Profiles</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/profiles/release/" class="dropdown-item">Release Profiles</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../plugins/sonarr/configuration/quality/" class="dropdown-item">Quality</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/indexers/" class="dropdown-item">Indexers</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/download-clients/" class="dropdown-item">Download Clients</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/import-lists/" class="dropdown-item">Import Lists</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/connect/" class="dropdown-item">Connect</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/metadata/" class="dropdown-item">Metadata</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/tags/" class="dropdown-item">Tags</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/general/" class="dropdown-item">General</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/ui/" class="dropdown-item">UI</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Buildarr Radarr Plugin</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/radarr/" class="dropdown-item">Introduction</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Configuration</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/radarr/configuration/host/" class="dropdown-item">Host Configuration</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Settings</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/radarr/configuration/settings/media-management/" class="dropdown-item">Media Management</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Profiles</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/radarr/configuration/settings/profiles/quality-profiles/" class="dropdown-item">Quality Profiles</a>
</li>
            
<li>
    <a href="../plugins/radarr/configuration/settings/profiles/delay-profiles/" class="dropdown-item">Delay Profiles</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../plugins/radarr/configuration/settings/quality/" class="dropdown-item">Quality</a>
</li>
            
<li>
    <a href="../plugins/radarr/configuration/settings/custom-formats/" class="dropdown-item">Custom Formats</a>
</li>
            
<li>
    <a href="../plugins/radarr/configuration/settings/indexers/" class="dropdown-item">Indexers</a>
</li>
            
<li>
    <a href="../plugins/radarr/configuration/settings/download-clients/" class="dropdown-item">Download Clients</a>
</li>
            
<li>
    <a href="../plugins/radarr/configuration/settings/notifications/" class="dropdown-item">Notifications (Connect)</a>
</li>
            
<li>
    <a href="../plugins/radarr/configuration/settings/metadata/" class="dropdown-item">Metadata</a>
</li>
            
<li>
    <a href="../plugins/radarr/configuration/settings/tags/" class="dropdown-item">Tags</a>
</li>
            
<li>
    <a href="../plugins/radarr/configuration/settings/general/" class="dropdown-item">General</a>
</li>
            
<li>
    <a href="../plugins/radarr/configuration/settings/ui/" class="dropdown-item">UI</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Buildarr Prowlarr Plugin</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/prowlarr/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../plugins/prowlarr/release-notes/" class="dropdown-item">Release Notes</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Configuration</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/prowlarr/configuration/host/" class="dropdown-item">Host Configuration</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Settings</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Indexers</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/prowlarr/configuration/settings/indexers/indexers/" class="dropdown-item">Indexers</a>
</li>
            
<li>
    <a href="../plugins/prowlarr/configuration/settings/indexers/proxies/" class="dropdown-item">Proxies</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Apps</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/prowlarr/configuration/settings/apps/applications/" class="dropdown-item">Applications</a>
</li>
            
<li>
    <a href="../plugins/prowlarr/configuration/settings/apps/sync-profiles/" class="dropdown-item">Sync Profiles</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../plugins/prowlarr/configuration/settings/download-clients/" class="dropdown-item">Download Clients</a>
</li>
            
<li>
    <a href="../plugins/prowlarr/configuration/settings/notifications/" class="dropdown-item">Notifications</a>
</li>
            
<li>
    <a href="../plugins/prowlarr/configuration/settings/tags/" class="dropdown-item">Tags</a>
</li>
            
<li>
    <a href="../plugins/prowlarr/configuration/settings/general/" class="dropdown-item">General</a>
</li>
            
<li>
    <a href="../plugins/prowlarr/configuration/settings/ui/" class="dropdown-item">UI</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Buildarr Jellyseerr Plugin</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/jellyseerr/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../plugins/jellyseerr/release-notes/" class="dropdown-item">Release Notes</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Configuration</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/jellyseerr/configuration/host/" class="dropdown-item">Host Configuration</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Settings</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/jellyseerr/configuration/settings/general/" class="dropdown-item">General</a>
</li>
            
<li>
    <a href="../plugins/jellyseerr/configuration/settings/users/" class="dropdown-item">Users</a>
</li>
            
<li>
    <a href="../plugins/jellyseerr/configuration/settings/jellyfin/" class="dropdown-item">Jellyfin</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Services</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/jellyseerr/configuration/settings/services/sonarr/" class="dropdown-item">Sonarr</a>
</li>
            
<li>
    <a href="../plugins/jellyseerr/configuration/settings/services/radarr/" class="dropdown-item">Radarr</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../plugins/jellyseerr/configuration/settings/notifications/" class="dropdown-item">Notifications</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../usage/" class="nav-link">Usage</a>
                            </li>
                            <li class="navitem">
                                <a href="https://github.com/buildarr/buildarr" class="nav-link">GitHub</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" class="nav-link disabled">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../plugins/sonarr/release-notes/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#release-notes-buildarr-core" class="nav-link">Release Notes (Buildarr Core)</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#v070-2023-11-12" class="nav-link">v0.7.0 - 2023-11-12</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#v062-2023-11-07" class="nav-link">v0.6.2 - 2023-11-07</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#v061-2023-09-11" class="nav-link">v0.6.1 - 2023-09-11</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#v060-2023-09-02" class="nav-link">v0.6.0 - 2023-09-02</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#v050-2023-04-16" class="nav-link">v0.5.0 - 2023-04-16</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#v042-2023-04-14" class="nav-link">v0.4.2 - 2023-04-14</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#v041-2023-04-09" class="nav-link">v0.4.1 - 2023-04-09</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#v040-2023-03-31" class="nav-link">v0.4.0 - 2023-03-31</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#v030-2023-03-15" class="nav-link">v0.3.0 - 2023-03-15</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#v020-2023-02-23" class="nav-link">v0.2.0 - 2023-02-23</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#v012-2023-02-20" class="nav-link">v0.1.2 - 2023-02-20</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#v011-2023-02-19" class="nav-link">v0.1.1 - 2023-02-19</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#v010-2023-02-11" class="nav-link">v0.1.0 - 2023-02-11</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="release-notes-buildarr-core">Release Notes (Buildarr Core)<a class="headerlink" href="#release-notes-buildarr-core" title="Permanent link">#</a></h1>
<h2 id="v070-2023-11-12"><a href="https://github.com/buildarr/buildarr/releases/tag/v0.7.0">v0.7.0</a> - 2023-11-12<a class="headerlink" href="#v070-2023-11-12" title="Permanent link">#</a></h2>
<p>This is a <strong>backwards-incompatible</strong> feature and bugfix release.</p>
<p>From a user perspective, the main change in this release is that <code>secrets.json</code> is no longer generated, and no longer used by Buildarr.</p>
<p>When Buildarr was originally designed, it was normal for Sonarr and Radarr to expose their API keys on their <code>initialize.js[on]</code> endpoints, allowing them to be dynamically fetched. To avoid doing this every time, the <code>secrets.json</code> file was used to cache them.</p>
<p>However, since then, a few issues have become glaringly obvious:</p>
<ul>
<li>The <code>secrets.json</code> file is difficult to manage from a security standpoint, as it is unencrypted and is not created using a secure <code>umask</code> by Buildarr by default at the moment.</li>
<li>Whenever plugins have a major update and have no means of migrating older secrets model objects, older <code>secrets.json</code> files will cause validation errors when running the updated versions.</li>
<li>With new versions of Arr suite applications moving to a forced-authentication model, where the API key must be provided by the client, there is simply no need to cache these credentials in a separate file anymore.</li>
</ul>
<p>After upgrading Buildarr, it is recommended to:</p>
<ul>
<li>Remove any existing copies of <code>secrets.json</code> from your Buildarr deployment.</li>
<li>If using Buildarr in Docker, change your <code>/config</code> bind mount to be read-only for better security.</li>
</ul>
<p>A couple of other issues have also been addressed in this release.</p>
<ul>
<li>When an error occurs during update runs in daemon mode, instead of quitting Buildarr, catch the error, log it and schedule following update runs as normal.<ul>
<li>This makes it easier to troubleshoot issues, as Buildarr will not continually try to execute update runs when configured to re-run after it quits unexpectedly.</li>
</ul>
</li>
<li>Fix a bug where after the first scheduled update run finishes in daemon mode, the "next update run" as reported by Buildarr is the same run that just executed.</li>
</ul>
<p>The plugin API has been updated with the following changes.</p>
<ul>
<li>Add the following commonly used constrained string types to Buildarr Core:<ul>
<li><code>LowerCaseNonEmptyStr</code></li>
<li><code>LowerCaseStr</code></li>
<li><code>UpperCaseNonEmptyStr</code></li>
<li><code>UpperCaseStr</code></li>
</ul>
</li>
<li>Add the new <code>ConfigBase.log_delete_remote_attrs</code> method, for more verbose logging of deleted resources.</li>
<li>Reimplement the <code>Password</code> attribute type as a subclass of <code>SecretStr</code> (instead of using <code>Annotated</code>), to allow it to be subclassed and used itself in <code>Annotated</code> statements.</li>
<li>Remove <code>json5</code> as a dependency of Buildarr Core. If a plugin requires this dependency, it should specify it explicitly.</li>
</ul>
<h3 id="added">Added<a class="headerlink" href="#added" title="Permanent link">#</a></h3>
<ul>
<li>Add new constrained string types (<a href="https://github.com/buildarr/buildarr/pull/157">#157</a>)</li>
<li>Add the <code>ConfigBase.log_delete_remote_attrs</code> method (<a href="https://github.com/buildarr/buildarr/pull/158">#158</a>)</li>
</ul>
<h3 id="changed">Changed<a class="headerlink" href="#changed" title="Permanent link">#</a></h3>
<ul>
<li>Log errors during daemon update runs without exiting (<a href="https://github.com/buildarr/buildarr/pull/151">#151</a>)</li>
<li>Fix the next run time after scheduled runs (<a href="https://github.com/buildarr/buildarr/pull/152">#152</a>)</li>
<li>Change <code>Password</code> to be an actual subclass of <code>SecretStr</code> (<a href="https://github.com/buildarr/buildarr/pull/156">#156</a>)</li>
<li>Update dependencies (<a href="https://github.com/buildarr/buildarr/pull/159">#159</a>)</li>
</ul>
<h3 id="removed">Removed<a class="headerlink" href="#removed" title="Permanent link">#</a></h3>
<ul>
<li>Remove <code>secrets.json</code> (<a href="https://github.com/buildarr/buildarr/pull/155">#155</a>)</li>
</ul>
<h2 id="v062-2023-11-07"><a href="https://github.com/buildarr/buildarr/releases/tag/v0.6.2">v0.6.2</a> - 2023-11-07<a class="headerlink" href="#v062-2023-11-07" title="Permanent link">#</a></h2>
<p>This is a backwards-compatible feature release that makes using multiple configuration files more flexible.</p>
<p>Buildarr allows you to split your configuration into multiple files using the <code>includes</code> option.</p>
<p>Before this release, however, there was a limitation to this functionality: each individual file had to be a valid configuration file on its own, and each file had to parse correctly when validated.</p>
<p><code>prowlarr.yml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nn">---</span>

<span class="nt">includes</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">prowlarr-2.yml</span>

<span class="nt">prowlarr</span><span class="p">:</span>
<span class="w">  </span><span class="nt">instances</span><span class="p">:</span>
<span class="w">    </span><span class="nt">prowlarr</span><span class="p">:</span>
<span class="w">      </span><span class="nt">api_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">xxxx</span>
<span class="w">      </span><span class="nt">settings</span><span class="p">:</span>
<span class="w">        </span><span class="nt">indexers</span><span class="p">:</span>
<span class="w">          </span><span class="nt">indexers</span><span class="p">:</span>
<span class="w">            </span><span class="nt">definitions</span><span class="p">:</span>
<span class="w">              </span><span class="s">&quot;Nyaa.si&quot;</span><span class="p p-Indicator">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nyaasi</span>
<span class="w">                </span><span class="nt">enable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">                </span><span class="nt">sync_profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Standard</span>
<span class="w">                </span><span class="nt">redirect</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">                </span><span class="nt">priority</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15</span>
<span class="w">                </span><span class="nt">grab_limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w">  </span><span class="c1"># Overridden in the included file.</span>
<span class="w">                </span><span class="nt">query_limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10010</span>
<span class="w">                </span><span class="nt">fields</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">torrentBaseSettings.seedRatio</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<span class="w">                  </span><span class="nt">prefer_magnet_links</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<p><code>prowlarr-2.yml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nn">---</span>

<span class="nt">prowlarr</span><span class="p">:</span>
<span class="w">  </span><span class="nt">instances</span><span class="p">:</span>
<span class="w">    </span><span class="nt">prowlarr</span><span class="p">:</span>
<span class="w">      </span><span class="nt">settings</span><span class="p">:</span>
<span class="w">        </span><span class="nt">indexers</span><span class="p">:</span>
<span class="w">          </span><span class="nt">indexers</span><span class="p">:</span>
<span class="w">            </span><span class="nt">definitions</span><span class="p">:</span>
<span class="w">              </span><span class="s">&quot;Nyaa.si&quot;</span><span class="p p-Indicator">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nyaasi</span><span class="w">  </span><span class="c1"># Already defined, but must be defined here to work.</span>
<span class="w">                </span><span class="nt">sync_profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Standard</span><span class="w">  </span><span class="c1"># Already defined, but must be defined here to work as well.</span>
<span class="w">                </span><span class="nt">grab_limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">104</span><span class="w">  </span><span class="c1"># Override the value in the original file.</span>
</code></pre></div>
<p>With this release, this limitation has now been eliminated. The above example can now be simplified to the following, and it will work as expected:</p>
<div class="highlight"><pre><span></span><code><span class="nn">---</span>

<span class="nt">prowlarr</span><span class="p">:</span>
<span class="w">  </span><span class="nt">instances</span><span class="p">:</span>
<span class="w">    </span><span class="nt">prowlarr</span><span class="p">:</span>
<span class="w">      </span><span class="nt">settings</span><span class="p">:</span>
<span class="w">        </span><span class="nt">indexers</span><span class="p">:</span>
<span class="w">          </span><span class="nt">indexers</span><span class="p">:</span>
<span class="w">            </span><span class="nt">definitions</span><span class="p">:</span>
<span class="w">              </span><span class="s">&quot;Nyaa.si&quot;</span><span class="p p-Indicator">:</span>
<span class="w">                </span><span class="nt">grab_limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">104</span><span class="w">  </span><span class="c1"># Override the value in the original file.</span>
</code></pre></div>
<p>This makes it possible to more freely structure your configuration files, e.g. splitting secret parameters (e.g. API keys and passwords) into a separate file from the main configuration.</p>
<p>For more information, check the configuration documentation.</p>
<h3 id="changed_1">Changed<a class="headerlink" href="#changed_1" title="Permanent link">#</a></h3>
<ul>
<li>Allow any configuration value to be defined in any file (<a href="https://github.com/buildarr/buildarr/pull/146">#146</a>)</li>
</ul>
<h2 id="v061-2023-09-11"><a href="https://github.com/buildarr/buildarr/releases/tag/v0.6.1">v0.6.1</a> - 2023-09-11<a class="headerlink" href="#v061-2023-09-11" title="Permanent link">#</a></h2>
<p>This is a backwards-compatible feature release that adds built-in support for parsing, decoding and encoding email attribute types that include a name (e.g. <code>Example Admin &lt;admin@example.com&gt;</code>).</p>
<p>Some plugins use this attribute type (<code>NameEmail</code> in Pydantic) without explicitly defining parameters for parsing it, so this adds sane defaults for that attribute type to ensure parsing works appropriately.</p>
<p>This will not be done for every possible type, but this application is generic and common enough that it is advantageous to build it into the core Buildarr application.</p>
<h3 id="added_1">Added<a class="headerlink" href="#added_1" title="Permanent link">#</a></h3>
<ul>
<li>Add built-in support for handling NameEmail attribute types (<a href="https://github.com/buildarr/buildarr/pull/138">#138</a>)</li>
</ul>
<h2 id="v060-2023-09-02"><a href="https://github.com/buildarr/buildarr/releases/tag/v0.6.0">v0.6.0</a> - 2023-09-02<a class="headerlink" href="#v060-2023-09-02" title="Permanent link">#</a></h2>
<p>This is a backwards-compatible feature and bugfix release.</p>
<p>The main addition is a new run stage for Buildarr plugins: post-initialisation rendering. This is similar to the existing (henceforth called pre-initialisation) rendering stage, but runs after the instance initialisation stage. This allows it to expose the instance secrets, giving the plugin access to the remote instance while rendering the configuration.</p>
<p>This can be useful for things such as resolving select option names from names via the API schema, which is sometimes used when rendering TRaSH-Guides metadata. The new stage is used in the upcoming Radarr plugin for Buildarr.</p>
<p>The following issues have also been resolved:</p>
<ul>
<li>Buildarr daemon stopped watching configuration file changes, if an unexpected error occurred while performing the initial run following reloading the configuration files.</li>
</ul>
<h3 id="added_2">Added<a class="headerlink" href="#added_2" title="Permanent link">#</a></h3>
<ul>
<li>Add post-initialisation rendering step (<a href="https://github.com/buildarr/buildarr/pull/126">#126</a>)</li>
</ul>
<h3 id="changed_2">Changed<a class="headerlink" href="#changed_2" title="Permanent link">#</a></h3>
<ul>
<li>Detect plugins that do not use config rendering (<a href="https://github.com/buildarr/buildarr/pull/116">#116</a>)</li>
<li>Fix running plugins that do not perform config rendering (<a href="https://github.com/buildarr/buildarr/pull/132">#132</a>)</li>
<li>Improve daemon reloading (<a href="https://github.com/buildarr/buildarr/pull/131">#131</a>)</li>
</ul>
<h2 id="v050-2023-04-16"><a href="https://github.com/buildarr/buildarr/releases/tag/v0.5.0">v0.5.0</a> - 2023-04-16<a class="headerlink" href="#v050-2023-04-16" title="Permanent link">#</a></h2>
<p>This is a <strong>backwards-incompatible</strong> feature release.</p>
<p>The main changes are behind-the-scenes improvements to the plugin API. Plugins will need to be updated to support this new version.</p>
<p>Due to requiring more work than anticipated to keep working, the deprecated <code>--dry-run</code> option has been removed from the <code>buildarr run</code> command. If you require more testing for your configuration than <code>buildarr test-config</code> does, it is recommended to create a staging environment for your Arr stack, and test configuration changes against that.</p>
<p>The following issues have also been addressed:</p>
<ul>
<li>Added a new <code>request_timeout</code> global state attribute, which provides a valid value even when the Buildarr configuration is not loaded (e.g. plugin-specific ad-hoc commands). This allows plugins to fix an issue where when dumping instance configurations, they were trying to access the corresponding attribute in the Buildarr config, which isn't loaded for that command.</li>
</ul>
<h3 id="added_3">Added<a class="headerlink" href="#added_3" title="Permanent link">#</a></h3>
<ul>
<li>Add <code>request_timeout</code> global state attribute (<a href="https://github.com/buildarr/buildarr/pull/114">#114</a>)</li>
</ul>
<h3 id="changed_3">Changed<a class="headerlink" href="#changed_3" title="Permanent link">#</a></h3>
<ul>
<li>Set <code>validate_assignment</code> to <code>True</code> by default for config models (<a href="https://github.com/buildarr/buildarr/pull/115">#115</a>)</li>
<li>Change <code>ConfigBase.uses_trash_metadata</code> to a function (<a href="https://github.com/buildarr/buildarr/pull/116">#116</a>)</li>
</ul>
<h3 id="removed_1">Removed<a class="headerlink" href="#removed_1" title="Permanent link">#</a></h3>
<ul>
<li>Remove deprecated features for Buildarr v0.5.0 (<a href="https://github.com/buildarr/buildarr/pull/112">#112</a>)</li>
<li>Remove the deprecated ad-hoc run <code>--dry-run</code> option (<a href="https://github.com/buildarr/buildarr/pull/113">#113</a>)</li>
</ul>
<h2 id="v042-2023-04-14"><a href="https://github.com/buildarr/buildarr/releases/tag/v0.4.2">v0.4.2</a> - 2023-04-14<a class="headerlink" href="#v042-2023-04-14" title="Permanent link">#</a></h2>
<p>This is a backwards-compatible feature and bugfix release.</p>
<p>This release mainly introduces new behind-the-scenes plugin API functionality to accommodate for new Buildarr plugins currently in development.</p>
<ul>
<li>Add a new generic rendering stage to Buildarr runs for populating dynamic configuration attributes (e.g. TRaSH-Guides metadata), that is not specific to TRaSH-Guides metadata.<ul>
<li>The current TRaSH-Guides metadata rendering function is now deprecated, and scheduled to be removed in Buildarr v0.5.0.</li>
</ul>
</li>
<li>Add a new stage to Buildarr runs for initialising new instances (e.g. with admin credentials or environment settings), that runs after rendering dynamic configuration attributes, but before secrets or remote configuration fetching takes place.<ul>
<li>This is intended to be used if an application requires initialising before the main API can be used by Buildarr, even before secrets metadata can be checked/fetched.</li>
</ul>
</li>
<li>Add a new stage to Buildarr runs for deleting resources from the remote instance if they are not managed by Buildarr or unused, and deletion is allowed in the configuration.<ul>
<li>This runs after the main configuration update stage, and improves stability of resource deletions by performing them in the reverse instance dependency order, ensuring resources that require resources on another instance are removed first.</li>
<li>Any plugins that perform resource deletions are expected to move this functionality to this new Buildarr run stage.</li>
</ul>
</li>
</ul>
<p>Some bugs that are likely to be encountered when setting up a complex Arr stack with linked instances have also been fixed:</p>
<ul>
<li>Partially fix an issue where attributes of the integer enumeration type (<code>BaseIntEnum</code>) were not properly handled, resulting in strange logging and potentially validation errors.<ul>
<li>Since it is not feasible to fully resolve the issue, the <code>BaseIntEnum</code> type is now deprecated, and scheduled to be removed in Buildarr v0.5.0.</li>
</ul>
</li>
<li>Allow the default instance of an application plugin (a configuration specified without using <code>instances:</code>) to be referenced in instance links, by specifying the reserved <code>default</code> instance name.<ul>
<li>A validation check has been added to disallow the user from defining an instance-specific configuration named <code>default</code>, as that is now (and always has been) a reserved name with respect to instance names in Buildarr.</li>
</ul>
</li>
<li>Fix an issue where some non-empty data structure types were not evaluated properly when reading the active configuration of a remote instance, resulting in a Buildarr internal error.</li>
</ul>
<h3 id="added_4">Added<a class="headerlink" href="#added_4" title="Permanent link">#</a></h3>
<ul>
<li>Add Buildarr run stage for initialising new instances (<a href="https://github.com/buildarr/buildarr/pull/99">#99</a>)</li>
<li>Add generic configuration rendering stage (<a href="https://github.com/buildarr/buildarr/pull/101">#101</a>)</li>
<li>Add resource deletion stage after configuration updates (<a href="https://github.com/buildarr/buildarr/pull/102">#102</a>)</li>
</ul>
<h3 id="changed_4">Changed<a class="headerlink" href="#changed_4" title="Permanent link">#</a></h3>
<ul>
<li>Deprecate <code>BaseIntEnum</code> (<a href="https://github.com/buildarr/buildarr/pull/95">#95</a>)</li>
<li>Allow the default instance to be used in instance links (<a href="https://github.com/buildarr/buildarr/pull/98">#98</a>)</li>
<li>Update development dependencies (<a href="https://github.com/buildarr/buildarr/pull/103">#103</a>)</li>
<li>Fix default config attribute decoder type discovery (<a href="https://github.com/buildarr/buildarr/pull/105">#105</a>)</li>
<li>Delete resources using the reverse execution order (<a href="https://github.com/buildarr/buildarr/pull/106">#106</a>)</li>
</ul>
<h2 id="v041-2023-04-09"><a href="https://github.com/buildarr/buildarr/releases/tag/v0.4.1">v0.4.1</a> - 2023-04-09<a class="headerlink" href="#v041-2023-04-09" title="Permanent link">#</a></h2>
<p>This is a backwards-compatible feature and bugfix release that resolves some issues when running Buildarr in a Docker container, and other small bugs.</p>
<ul>
<li>A bug was fixed where Buildarr would not always detect configuration file changes in the Docker environment, particularly if run in Docker Desktop or Docker on WSL2.</li>
<li>The default settings for the YAML encoder for configurations were adjusted, changing the configuration attribute order to be closer to the intended order, and making automatically generated configuration easier to read.</li>
<li>The documentation has been updated to note the release of the <a href="https://buildarr.github.io/plugins/prowlarr">Prowlarr plugin for Buildarr</a>, and the installation instructions for the Docker image have been extended to reflect changes in the way the Docker container can be used.</li>
<li>The plugin API has been extended to add a hook for overriding the function that Buildarr uses to compare local and remote configuration attribute values, for when custom code for that is required.</li>
</ul>
<h3 id="added_5">Added<a class="headerlink" href="#added_5" title="Permanent link">#</a></h3>
<ul>
<li>Add overriding the value compare function to remote maps (<a href="https://github.com/buildarr/buildarr/pull/84">#84</a>)</li>
</ul>
<h3 id="changed_5">Changed<a class="headerlink" href="#changed_5" title="Permanent link">#</a></h3>
<ul>
<li>Fix config file monitoring in the Docker container (<a href="https://github.com/buildarr/buildarr/pull/82">#82</a>)</li>
<li>Fix mistakes in error messages (<a href="https://github.com/buildarr/buildarr/pull/85">#85</a>)</li>
<li>Update Buildarr docs (<a href="https://github.com/buildarr/buildarr/pull/87">#87</a>)</li>
<li>Improve built-in YAML encoding (<a href="https://github.com/buildarr/buildarr/pull/88">#88</a>)</li>
</ul>
<h2 id="v040-2023-03-31"><a href="https://github.com/buildarr/buildarr/releases/tag/v0.4.0">v0.4.0</a> - 2023-03-31<a class="headerlink" href="#v040-2023-03-31" title="Permanent link">#</a></h2>
<p>This is a semi backwards-incompatible feature and bugfix release that undertakes large refactors to move Buildarr closer to the final form it will take for stable release.</p>
<p>As major strides have been taken to stabilise the plugin API, the Sonarr plugin for Buildarr has been forked into a separate package, <a href="https://buildarr.github.io/plugins/sonarr"><code>buildarr-sonarr</code></a>. From this version onwards, Buildarr no longer bundles application plugins.</p>
<p>The <a href="../plugins/#installing-plugins-into-the-docker-container">Docker container</a> still bundles the Sonarr plugin for ease of use, but when upgrading an existing <a href="../plugins/#installing-plugins-for-a-standalone-application">standalone installation</a> of Buildarr, the Sonarr plugin package will need to be installed using <code>pip</code>.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>buildarr-sonarr
</code></pre></div>
<p>This will allow the Sonarr plugin to deliver releases independently of the base Buildarr package, allowing for more rapid releases of both packages, while ensuring compability between Buildarr and its plugins through plugin version pinning of the Buildarr base package.</p>
<p>Buildarr uses <a href="https://semver.org">semantic versioning</a>.</p>
<p>While Buildarr is in beta, point releases (e.g. <code>0.x.0</code>) signify there may be a breaking change to the plugin API, which plugins should accommodate with corresponding changes and adjustment of their dependency requirements.</p>
<p>After Buildarr releases its first stable version (<code>v1.0.0</code>), major version increases (e.g. <code>v2.0.0</code>) will be used for backward-incompatible releases, while point releases (e.g. <code>v1.x.0</code>) will be made for backward-compatible feature releases.</p>
<p>A number of other features and bugfixes have been added in this release:</p>
<ul>
<li>Add support for dry runs in Buildarr ad-hoc runs, for testing configuration changes against live instances <em>without</em> modifying them</li>
<li>Add <a href="../usage/#testing-configuration">configuration validity testing</a> using the <code>buildarr test-config</code> command</li>
<li>Add support for <a href="../configuration/#buildarr.config.buildarr.BuildarrConfig.secrets_file_path">overriding the secrets file</a> path using the <code>--secrets-file</code> option</li>
<li>Add <a href="../usage/#generating-a-docker-compose-file">automatic generation of Docker Compose files</a> from Buildarr configuration files using the <code>buildarr compose</code> command</li>
<li>Improve configuration parsing so that local relative paths read by Buildarr are resolved relative to the parent directory of the file the attribute was read from, rather than the current directory of the Buildarr process</li>
<li>Improve validation to output easier-to-read error messages in some cases</li>
<li>Improve logging so that it is clearer what source file the log message came from, and what plugin and instance name the message relates to</li>
<li>Relax Buildarr base package dependency version requirements, for improved compatibility with external plugins</li>
</ul>
<h3 id="added_6">Added<a class="headerlink" href="#added_6" title="Permanent link">#</a></h3>
<ul>
<li>Add the <code>--dry-run</code> option to <code>buildarr run</code> (<a href="https://github.com/buildarr/buildarr/pull/56">#56</a>)</li>
<li>Add instance-specific configs to global state and fix Sonarr dry-run bug (<a href="https://github.com/buildarr/buildarr/pull/59">#59</a>)</li>
<li>Add the <code>buildarr test-config</code> command (<a href="https://github.com/buildarr/buildarr/pull/60">#60</a>)</li>
<li>Add <code>--secrets-file</code> option to daemon and run modes (<a href="https://github.com/buildarr/buildarr/pull/67">#67</a>)</li>
<li>Add the <code>buildarr compose</code> command (<a href="https://github.com/buildarr/buildarr/pull/73">#73</a>)</li>
<li>Reintroduce <code>buildarr.__version__</code> and use it internally (<a href="https://github.com/buildarr/buildarr/pull/75">#75</a>)</li>
<li>Add <code>version</code> attribute to plugin metadata object (<a href="https://github.com/buildarr/buildarr/pull/78">#78</a>)</li>
</ul>
<h3 id="changed_6">Changed<a class="headerlink" href="#changed_6" title="Permanent link">#</a></h3>
<ul>
<li>Convert most root validators to attribute-specific validators (<a href="https://github.com/buildarr/buildarr/pull/54">#54</a>)</li>
<li>Remove unused code and fix pre-commit job (<a href="https://github.com/buildarr/buildarr/pull/58">#58</a>)</li>
<li>Enable validating default config/secrets attribute values (<a href="https://github.com/buildarr/buildarr/pull/63">#63</a>)</li>
<li>Reduce usage of <code>initialize.js</code> endpoints (<a href="https://github.com/buildarr/buildarr/pull/66">#66</a>)</li>
<li>Refactor logging infrastructure (<a href="https://github.com/buildarr/buildarr/pull/68">#68</a>)</li>
<li>Relax dependency version requirements (<a href="https://github.com/buildarr/buildarr/pull/69">#69</a>)</li>
<li>Improve and add missing docs for new features (<a href="https://github.com/buildarr/buildarr/pull/70">#70</a>)</li>
<li>Evaluate local paths relative to the config file (<a href="https://github.com/buildarr/buildarr/pull/71">#71</a>)</li>
<li>Add temporary ignore for <code>watchdog.Observer</code> type hint (<a href="https://github.com/buildarr/buildarr/pull/72">#72</a>)</li>
<li>Fork the Sonarr plugin into its own package (<a href="https://github.com/buildarr/buildarr/pull/76">#76</a>)</li>
</ul>
<h2 id="v030-2023-03-15"><a href="https://github.com/buildarr/buildarr/releases/tag/v0.3.0">v0.3.0</a> - 2023-03-15<a class="headerlink" href="#v030-2023-03-15" title="Permanent link">#</a></h2>
<p>This is a feature and bugfix release that extends the groundwork laid in the previous version for making Buildarr more usable, and future-proof for the planned new plugins.</p>
<p>A major bug where running Buildarr when <code>secrets.json</code> does not exist would result in an error, even if valid instance credentials were found, has been fixed. This would have prevented many people from trying out Buildarr, and for this I would like to apologise.</p>
<p>In the future automated unit tests are planned, and major refactors of the Buildarr codebase are now less likely to happen as a result of development, so bugs like this should not happen as often in the future.</p>
<p>The major new feature this release introduces is instance linking: the ability to define relationships between two instances.</p>
<p>Most of the work went into the internal implementation to make it possible to use in plugins, but one use case within the Sonarr plugin itself is now supported: <a href="https://buildarr.github.io/plugins/sonarr/configuration/import-lists/#sonarr">Sonarr instances using another Sonarr instance</a> as an import list, via the new <a href="https://buildarr.github.io/plugins/sonarr/configuration/import-lists/#buildarr_sonarr.config.import_lists.SonarrImportList.instance_name"><code>instance_name</code></a> attribute.</p>
<p>When using this attribute, Buildarr will automatically fill in the API key attribute so you don't have to, and instead of using IDs to reference quality profiles/language profiles/tags in the source instance, names can now be used:</p>
<div class="highlight"><pre><span></span><code><span class="nt">sonarr</span><span class="p">:</span>
<span class="w">  </span><span class="nt">instances</span><span class="p">:</span>
<span class="w">    </span><span class="nt">sonarr-hd</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hostname</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;localhost&quot;</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8989</span>
<span class="w">    </span><span class="nt">sonarr-4k</span><span class="p">:</span>
<span class="w">      </span><span class="nt">hostname</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;localhost&quot;</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8990</span>
<span class="w">      </span><span class="nt">settings</span><span class="p">:</span>
<span class="w">        </span><span class="nt">import_lists</span><span class="p">:</span>
<span class="w">          </span><span class="nt">definitions</span><span class="p">:</span>
<span class="w">            </span><span class="nt">Sonarr (HD)</span><span class="p">:</span>
<span class="w">              </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sonarr&quot;</span>
<span class="w">              </span><span class="c1"># Global import list options.</span>
<span class="w">              </span><span class="nt">root_folder</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/path/to/videos&quot;</span>
<span class="w">              </span><span class="nt">quality_profile</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;4K&quot;</span>
<span class="w">              </span><span class="nt">language_profile</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;English&quot;</span>
<span class="w">              </span><span class="c1"># Sonarr import list-specific options.</span>
<span class="w">              </span><span class="nt">full_url</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http://sonarr:8989&quot;</span>
<span class="w">              </span><span class="nt">instance_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sonarr-hd&quot;</span>
<span class="w">              </span><span class="nt">source_quality_profiles</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;HD/SD&quot;</span>
<span class="w">              </span><span class="nt">source_language_profiles</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;English&quot;</span>
<span class="w">              </span><span class="nt">source_tags</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;shows&quot;</span>
</code></pre></div>
<p>When instance links are made, Buildarr automatically adjusts the order of execution such that the target instance is always processed before the instance linking to the target. This ensures the state of the target instance is consistent when they are both updated to establish the link.</p>
<p>A number of other improvements and bugfixes were made, such as:</p>
<ul>
<li>Fix configuration validation to allow local and non-qualified domains on all URL-type attributes (fixes <code>localhost</code> API URL references)</li>
<li>Rename the following Sonarr import list attributes (and retain the old names as aliases to ensure backwards compatibility):<ul>
<li><code>source_quality_profile_ids</code> renamed to <a href="https://buildarr.github.io/plugins/sonarr/configuration/import-lists/#buildarr_sonarr.config.import_lists.SonarrImportList.source_quality_profiles"><code>source_quality_profiles</code></a></li>
<li><code>source_language_profile_ids</code> renamed to <a href="https://buildarr.github.io/plugins/sonarr/configuration/import-lists/#buildarr_sonarr.config.import_lists.SonarrImportList.source_language_profiles"><code>source_language_profiles</code></a></li>
<li><code>source_tag_ids</code> renamed to <a href="https://buildarr.github.io/plugins/sonarr/configuration/import-lists/#buildarr_sonarr.config.import_lists.SonarrImportList.source_tags"><code>source_tags</code></a></li>
</ul>
</li>
<li>Fix reading the <code>$BUILDARR_LOG_LEVEL</code> environment variable to be case-insensitive</li>
<li>Clean up runtime state after individual update runs in daemon mode, to ensure no state leakage into subsequent runs</li>
<li>Add a new <a href="../configuration/#buildarr.config.buildarr.BuildarrConfig.request_timeout"><code>buildarr.request_timeout</code></a> configuration attribute for adjusting API request timeouts (the default is 30 seconds)</li>
<li>Improve Sonarr quality definition <a href="https://buildarr.github.io/plugins/sonarr/configuration/quality/#buildarr_sonarr.config.quality.QualityDefinition.min"><code>min</code> and <code>max</code></a> validation so that <code>400</code> is also a valid value for <code>max</code>, and enforce <code>min</code>-<code>max</code> value difference constraints</li>
<li>Major internal code refactor through the introduction of <a href="https://beta.ruff.rs/docs">Ruff</a> to the development pipeline, fixing a large number of minor code quality issues</li>
</ul>
<h3 id="changed_7">Changed<a class="headerlink" href="#changed_7" title="Permanent link">#</a></h3>
<ul>
<li>Fix fetching new instance secrets (<a href="https://github.com/buildarr/buildarr/pull/44">#44</a>)</li>
<li>Accept local and non-qualified domain names in URLs (<a href="https://github.com/buildarr/buildarr/pull/46">#46</a>)</li>
<li>Add instance referencing and dependency resolution (<a href="https://github.com/buildarr/buildarr/pull/47">#47</a>)</li>
<li>Replace isort and Flake8 with Ruff and reformat source files (<a href="https://github.com/buildarr/buildarr/pull/49">#49</a>)</li>
</ul>
<h2 id="v020-2023-02-23"><a href="https://github.com/buildarr/buildarr/releases/tag/v0.2.0">v0.2.0</a> - 2023-02-23<a class="headerlink" href="#v020-2023-02-23" title="Permanent link">#</a></h2>
<p>This is a feature release that comprehensively refactors the internal structure of Buildarr and the plugin API, and introduces a new, formally defined global state architecture that Buildarr and plugins can utilise.</p>
<p>These changes improve maintainability of the codebase, allow for more accurate type validation of global state objects, make the plugin API easier to understand for developers, and pave the way for planned new features such as configuring instance-to-instance links within Buildarr.</p>
<p>This release also introduces connection testing of cached and auto-retrieved instance secrets, to ensure Buildarr can communicate and authenticate with instances before it tries to update them.</p>
<p>A handful of bugs were fixed, including but not limited to:</p>
<ul>
<li>Work around a parsing bug in Pydantic that causes Buildarr to error out when specifying Sonarr instance API keys in the Buildarr configuration</li>
<li>More accurate resource type detection eliminating the chance of parsing errors for Sonarr import list, indexer, download client and connection definitions</li>
<li>Set better constraints on some Sonarr configuration attributes:<ul>
<li>To handle suboptimal configuration (e.g. ignore duplicate elements)</li>
<li>To reject invalid configuration (e.g. require at least one recipient e-mail address on Mailgun and Sendgrid connection types)</li>
</ul>
</li>
</ul>
<h3 id="added_7">Added<a class="headerlink" href="#added_7" title="Permanent link">#</a></h3>
<ul>
<li>Implement testing of cached and fetched instance secrets (<a href="https://github.com/buildarr/buildarr/pull/32">#32</a>)</li>
<li>Refactor the internals of Buildarr to improve maintainability (<a href="https://github.com/buildarr/buildarr/pull/30">#30</a>)</li>
</ul>
<h3 id="changed_8">Changed<a class="headerlink" href="#changed_8" title="Permanent link">#</a></h3>
<ul>
<li>Convert <code>Password</code> and <code>SonarrApiKey</code> to subclasses of <code>SecretStr</code> (<a href="https://github.com/buildarr/buildarr/pull/34">#34</a>)</li>
<li>Fix CLI exception class inheritance (<a href="https://github.com/buildarr/buildarr/pull/35">#35</a>)</li>
<li>Use discriminated unions to accurately determine resource type (<a href="https://github.com/buildarr/buildarr/pull/36">#36</a>)</li>
<li>Change log types of some TRaSH logs to <code>INFO</code> (<a href="https://github.com/buildarr/buildarr/pull/37">#37</a>)</li>
<li>Set better constraints on Sonarr configuration attributes (<a href="https://github.com/buildarr/buildarr/pull/38">#38</a>)</li>
</ul>
<h2 id="v012-2023-02-20"><a href="https://github.com/buildarr/buildarr/releases/tag/v0.1.2">v0.1.2</a> - 2023-02-20<a class="headerlink" href="#v012-2023-02-20" title="Permanent link">#</a></h2>
<p>This is a bugfix release that fixes updates of certain types of Sonarr instance configuration, improving usability of the Sonarr plugin.</p>
<p>The following types of Sonarr instance configuration have had bugfixes and improvements made, and are confirmed to work without errors:</p>
<ul>
<li>Media Management<ul>
<li>Ensure that <code>minimum_free_space</code> is set to a minimum of 100 MB</li>
<li>Fix <code>unmonitor_deleted_episodes</code> so that it is now checked and updated by Buildarr</li>
<li>Add a <code>delete_unmanaged_root_folders</code> option to allow Buildarr to delete undefined root folders (disabled by default)</li>
<li>Improve other configuration constraints so that it more closely matches Sonarr</li>
<li>Fix a minor logging bug in root folder updates</li>
</ul>
</li>
<li>Profiles<ul>
<li>Quality Profiles / Language Profiles<ul>
<li>Improve attribute constraints e.g. ensure duplicate quality values cannot be defined, enforce <code>upgrade_until</code> being required when <code>allow_upgrades</code> is <code>True</code></li>
<li>Fix conversion between Buildarr and Sonarr configuration state so that no errors occur when upgrades are disabled</li>
<li>Internal refactor to make the code easier to understand</li>
</ul>
</li>
<li>Delay Profiles - Confirmed to work properly as of <code>v0.1.1</code> (and likely <code>v0.1.0</code>)</li>
<li>Release Profiles<ul>
<li>Fix bug introduced in <code>v0.1.1</code> where internal validation is not done on release profiles downloaded from TRaSH-Guides, resulting in preferred word lists being updated on each run, and potential errors not being caught if there are invalid values in the profile</li>
<li>Internal refactor to simplify implementation</li>
</ul>
</li>
</ul>
</li>
<li>Quality<ul>
<li>Fix bug introduced in <code>v0.1.1</code> where internal validation is not done on quality profiles downloaded from TRaSH-Guides, resulting in potential errors not being caught if there are invalid values in the profile</li>
</ul>
</li>
<li>Metadata - Confirmed to work properly as of <code>v0.1.1</code> (and likely <code>v0.1.0</code>)<ul>
<li>Small logging bug fixed where it was ambiguous which metadata type was being modified on update</li>
</ul>
</li>
<li>Tags - Confirmed to work properly as of <code>v0.1.1</code> (and likely <code>v0.1.0</code>)</li>
<li>General<ul>
<li>Improve behaviour when setting an authentication username and password so that configuration updates are idempotent when authentication is disabled</li>
<li>Fix setting a proxy password</li>
<li>Fix setting backup intervals and retentions so that it is no longer possible to set a value not supported by Sonarr</li>
</ul>
</li>
</ul>
<p>Incorrect syntax in some examples in the documentation were also found and fixed.</p>
<h3 id="added_8">Added<a class="headerlink" href="#added_8" title="Permanent link">#</a></h3>
<ul>
<li>Added the <code>sonarr.settings.media_management.delete_unmanaged_root_folders</code> configuration attribute (<a href="https://github.com/buildarr/buildarr/pull/24">#24</a>)</li>
</ul>
<h3 id="changed_9">Changed<a class="headerlink" href="#changed_9" title="Permanent link">#</a></h3>
<ul>
<li>Improve and fix Sonarr general settings configuration updates (<a href="https://github.com/buildarr/buildarr/pull/19">#19</a>)</li>
<li>Fix Sonarr UI settings updates (<a href="https://github.com/buildarr/buildarr/pull/20">#20</a>)</li>
<li>Fix small bug Sonarr metadata definition update logging (<a href="https://github.com/buildarr/buildarr/pull/21">#21</a>)</li>
<li>Improve Sonarr quality profile definition parsing (<a href="https://github.com/buildarr/buildarr/pull/22">#22</a>)</li>
<li>Make improvements and bug fixes to quality/language/release profile and quality definition parsing (<a href="https://github.com/buildarr/buildarr/pull/23">#23</a>)</li>
<li>Fix Sonarr media management settings and improve root folder handling (<a href="https://github.com/buildarr/buildarr/pull/24">#24</a>)</li>
</ul>
<h2 id="v011-2023-02-19"><a href="https://github.com/buildarr/buildarr/releases/tag/v0.1.1">v0.1.1</a> - 2023-02-19<a class="headerlink" href="#v011-2023-02-19" title="Permanent link">#</a></h2>
<p>This is a support release that fixes quality definition and backup configuration updates
on remote Sonarr instances.</p>
<p>A new Dummy plugin is now included with Buildarr, used for testing Buildarr and its
plugin API, and also serves as a reference implementation for plugin developers.</p>
<p>Other behind-the-scenes improvements include a refactor of the plugin API to allow
for accurate type hints for configuration objects in secrets metadata classes
(and vice versa), and numerous updates to the documentation to correct errors
and add more detail.</p>
<h3 id="added_9">Added<a class="headerlink" href="#added_9" title="Permanent link">#</a></h3>
<ul>
<li>Add a GitHub Action to push releases to PyPI (<a href="https://github.com/buildarr/buildarr/pull/11">#11</a>)</li>
<li>Create a <code>buildarr-dummy</code> plugin for testing the Buildarr plugin API (<a href="https://github.com/buildarr/buildarr/pull/12">#12</a>)</li>
</ul>
<h3 id="changed_10">Changed<a class="headerlink" href="#changed_10" title="Permanent link">#</a></h3>
<ul>
<li>Fix $PUID and $GUID declarations (<a href="https://github.com/buildarr/buildarr/commit/b5110f3">b5110f3</a>)</li>
<li>Fix Docker Hub link (<a href="https://github.com/buildarr/buildarr/commit/be0ba12">be0ba12</a>)</li>
<li>Fix Docker volume mount docs (<a href="https://github.com/buildarr/buildarr/commit/fe328aa">fe328aa</a>)</li>
<li>Fix troubleshooting Buildarr run docs (<a href="https://github.com/buildarr/buildarr/commit/e3b8833">e3b8833</a>)</li>
<li>Update dependency versions (<a href="https://github.com/buildarr/buildarr/commit/3c19ede">3c19ede</a>)</li>
<li>Fix debug Docker command in the GitHub Pages site (<a href="https://github.com/buildarr/buildarr/commit/1e17741">1e17741</a>)</li>
<li>Disable automatic dependency version updates (<a href="https://github.com/buildarr/buildarr/commit/c5c61cd">c5c61cd</a>)</li>
<li>Add missing download client documentation (<a href="https://github.com/buildarr/buildarr/commit/d07936f">d07936f</a>)</li>
<li>Fix incorrect config value definition in docs (<a href="https://github.com/buildarr/buildarr/commit/d1807a0">d1807a0</a>)</li>
<li>Fix to-do list indenting (<a href="https://github.com/buildarr/buildarr/commit/bca56e5">bca56e5</a>)</li>
<li>Add a link to the configuration documentation in README.md (<a href="https://github.com/buildarr/buildarr/commit/a5c0e6d">a5c0e6d</a>)</li>
<li>Clean up and update Sonarr plugin internals (<a href="https://github.com/buildarr/buildarr/pull/14">#14</a>)</li>
<li>Fix updates to Sonarr quality definitions (<a href="https://github.com/buildarr/buildarr/pull/15">#15</a>)</li>
<li>Fix updates to Sonarr backup general settings (<a href="https://github.com/buildarr/buildarr/pull/16">#16</a>)</li>
</ul>
<h3 id="removed_2">Removed<a class="headerlink" href="#removed_2" title="Permanent link">#</a></h3>
<ul>
<li>Removed <code>buildarr.__version__</code> (please use <a href="https://docs.python.org/3/library/importlib.metadata.html#distribution-versions">importlib.metadata</a> instead)</li>
</ul>
<h2 id="v010-2023-02-11"><a href="https://github.com/buildarr/buildarr/releases/tag/v0.1.0">v0.1.0</a> - 2023-02-11<a class="headerlink" href="#v010-2023-02-11" title="Permanent link">#</a></h2>
<p>Release the initial version of Buildarr (v0.1.0).</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/jquery-3.6.0.min.js"></script>
        <script src="../js/bootstrap.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
