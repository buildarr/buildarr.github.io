<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Configuration - Buildarr</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="../assets/_mkdocstrings.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Buildarr</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../release-notes/" class="nav-link">Release Notes</a>
                            </li>
                            <li class="navitem">
                                <a href="../installation/" class="nav-link">Installation</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Configuration</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Plugins <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../plugins/" class="dropdown-item">Introduction</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">buildarr-sonarr</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/sonarr/" class="dropdown-item">Introduction</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Configuration</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/sonarr/configuration/host/" class="dropdown-item">Host Configuration</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/media-management/" class="dropdown-item">Media Management</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Profiles</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../plugins/sonarr/configuration/profiles/quality/" class="dropdown-item">Quality Profiles</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/profiles/language/" class="dropdown-item">Language Profiles</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/profiles/delay/" class="dropdown-item">Delay Profiles</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/profiles/release/" class="dropdown-item">Release Profiles</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../plugins/sonarr/configuration/quality/" class="dropdown-item">Quality</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/indexers/" class="dropdown-item">Indexers</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/download-clients/" class="dropdown-item">Download Clients</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/import-lists/" class="dropdown-item">Import Lists</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/connect/" class="dropdown-item">Connect</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/metadata/" class="dropdown-item">Metadata</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/tags/" class="dropdown-item">Tags</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/general/" class="dropdown-item">General</a>
</li>
            
<li>
    <a href="../plugins/sonarr/configuration/ui/" class="dropdown-item">UI</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../usage/" class="nav-link">Usage</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../installation/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../plugins/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#configuring-buildarr" class="nav-link">Configuring Buildarr</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#multiple-configuration-files" class="nav-link">Multiple configuration files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#multiple-instances-of-the-same-type" class="nav-link">Multiple instances of the same type</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#how-does-configuration-get-pushed-to-instances" class="nav-link">How does configuration get pushed to instances?</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#buildarr-settings" class="nav-link">Buildarr Settings</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="configuring-buildarr">Configuring Buildarr<a class="headerlink" href="#configuring-buildarr" title="Permanent link">#</a></h1>
<p>Buildarr uses YAML as its configuration file format. By default, Buildarr looks for <code>buildarr.yml</code> in the current directory.</p>
<p>It contains not only the settings for Buildarr itself, but also the application instances to be managed. When an update run of the managed instances is performed, Buildarr will check the remote instances against this configuration, and if there are any differences, Buildarr will update the instance to match the configuration.</p>
<p>Here is an abbreviated example of a <code>buildarr.yml</code> where Buildarr is managing a single Sonarr instance.</p>
<pre class="highlight"><code class="language-yaml">---

buildarr:
  watch_config: true
  update_days:
    - "monday"
    - "tuesday"
    - "wednesday"
    - "thursday"
    - "friday"
    - "saturday"
    - "sunday"
  update_times:
    - "03:00"

sonarr:
  host: "sonarr.example.com"
  port: 8989
  protocol: "http"
  settings:
    ...</code></pre>
<h2 id="multiple-configuration-files">Multiple configuration files<a class="headerlink" href="#multiple-configuration-files" title="Permanent link">#</a></h2>
<p>Using the <code>includes</code> block, multiple configuration files can be included and read from one <code>buildarr.yml</code> file.</p>
<p>Nested inclusion is allowed (included files can include other files). All the loaded configuration files are merged into a single structure in a <a href="https://en.wikipedia.org/wiki/Breadth-first_search">breadth-first</a> fashion.</p>
<p>If any configuration attributes in files overlap, the last-read value will take precedence. Note that any overlapping attributes that are lists will be overwritten, rather than combined.</p>
<p>Overly complicated include structures should be avoided, to ensure legibility of the configuration.</p>
<p><code>buildarr.yml</code>:
<pre class="highlight"><code class="language-yaml">---
includes:
  - sonarr1.yml
  - sonarr2.yml

buildarr:
  watch_config: true
  update_days:
    - "monday"
    - "tuesday"
    - "wednesday"
    - "thursday"
    - "friday"
    - "saturday"
    - "sunday"
  update_times:
    - "03:00"

sonarr:
  # Configuration common to all Sonarr instances.
  settings:
    ...</code></pre></p>
<p><code>sonarr1.yml</code>:
<pre class="highlight"><code class="language-yaml">---

sonarr:
  instances:
    # Sonarr instance 1 connection information and configuration.
    sonarr1:
      host: "sonarr1.example.com"
      port: 8989
      protocol: "http"
      settings:
        ...</code></pre></p>
<p><code>sonarr2.yml</code>:
<pre class="highlight"><code class="language-yaml">---

sonarr:
  instances:
    # Sonarr instance 2 connection information and configuration.
    sonarr2:
      host: "sonarr2.example.com"
      port: 8989
      protocol: "http"
      settings:
        ...</code></pre></p>
<h2 id="multiple-instances-of-the-same-type">Multiple instances of the same type<a class="headerlink" href="#multiple-instances-of-the-same-type" title="Permanent link">#</a></h2>
<p>Using the <code>instances</code> attribute, multiple instances of the same type can be administered using a single Buildarr instance. Globally set configuration will apply to all defined instances, and settings defined under a single instance only apply to that instance.</p>
<pre class="highlight"><code class="language-yaml">sonarr:
  # Configuration common to all Sonarr instances.
  settings:
    ...

  instances:
    # Sonarr instance 1 connection information and configuration.
    sonarr1:
      host: "sonarr1.example.com"
      port: 8989
      protocol: "http"
      settings:
        ...

    # Sonarr instance 1 connection information and configuration.
    sonarr2:
      host: "sonarr2.example.com"
      port: 8989
      protocol: "http"
      settings:
        ...</code></pre>
<h2 id="how-does-configuration-get-pushed-to-instances">How does configuration get pushed to instances?<a class="headerlink" href="#how-does-configuration-get-pushed-to-instances" title="Permanent link">#</a></h2>
<p>Buildarr operates on a principle of "don't touch what is not explicitly defined", and idempotent operation.</p>
<ol>
<li>Buildarr downloads the active configuration of a remote instance, and compares it to the configuration file.</li>
<li>If a configuration value is not explicitly defined in the Buildarr configuration, it is not updated.</li>
<li>If the explicitly set local configuration value matches the remote instance, it is not updated (unless other parameters set using the same API command have been changed).</li>
<li>Only if a configuration update is available will it be pushed to the remote instance.</li>
</ol>
<h2 id="buildarr-settings">Buildarr Settings<a class="headerlink" href="#buildarr-settings" title="Permanent link">#</a></h2>


<div class="doc doc-object doc-class">


<a id="buildarr.config.buildarr.BuildarrConfig"></a>
  <div class="doc doc-contents first">
      <p class="doc doc-class-bases">
        Bases: <code><span title="buildarr.config.base.ConfigBase">ConfigBase</span></code></p>

  
      <p>The <code>buildarr</code> configuration section is used to configure the behaviour of Buildarr itself.</p>
<p>Some of the configuration options set here may be overridden on the command line.</p>
<p>Note that the log level cannot be set within <code>buildarr.yml</code>,
as logging starts before the configuration is loaded.
The log level can be set using the <code>$BUILDARR_LOG_LEVEL</code> environment variable,
or using the <code>--log-level</code> command line argument.</p>
<pre class="highlight"><code class="language-yaml">---

buildarr:
  watch_config: true
  update_days:
    - "monday"
    - "tuesday"
    - "wednesday"
    - "thursday"
    - "friday"
    - "saturday"
    - "sunday"
  update_times:
    - "03:00"
  secrets_file_path: "secrets.json"</code></pre>



  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="buildarr.config.buildarr.BuildarrConfig.watch_config" class="doc doc-heading">
<code class="highlight language-python">watch_config: bool = False</code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#buildarr.config.buildarr.BuildarrConfig.watch_config" class="headerlink" title="Permanent link">#</a></h5>


  <div class="doc doc-contents ">
  
      <p>When set to <code>true</code>, the Buildarr daemon will watch the loaded configuration files for changes,
and reload them and update remote instances if they are changed.</p>
<p>Sending <code>SIGHUP</code> to the Buildarr daemon process on supported operating systems
will also perform this operation, whether <code>watch_config</code> is enabled or not.</p>
<p>This configuration option can be overridden using the <code>--watch-config</code> command line argument.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="buildarr.config.buildarr.BuildarrConfig.update_days" class="doc doc-heading">
<code class="highlight language-python">update_days: Set[DayOfWeek] = set(day for day in DayOfWeek)</code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#buildarr.config.buildarr.BuildarrConfig.update_days" class="headerlink" title="Permanent link">#</a></h5>


  <div class="doc doc-contents ">
  
      <p>The days Buildarr daemon will run update operations on.</p>
<p>By default, updates are scheduled to run every day.</p>
<p>Days are specified as a list of case-insensitive strings, in English.
The days do not need to be in order.</p>
<pre class="highlight"><code class="language-yaml">buildarr:
  update_days:
    - "monday"
    - "wednesday"
    - "friday"</code></pre>
<p>This configuration option can be overridden using the <code>--update-days</code> command line argument.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="buildarr.config.buildarr.BuildarrConfig.update_times" class="doc doc-heading">
<code class="highlight language-python">update_times: Set[time] = {time(hour=3)}</code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#buildarr.config.buildarr.BuildarrConfig.update_times" class="headerlink" title="Permanent link">#</a></h5>


  <div class="doc doc-contents ">
  
      <p>The times Buildarr daemon will run update operations on each scheduled day.</p>
<p>By default, updates are scheduled to run at 3:00am local time.</p>
<p>Times are specified in the <code>HH:MM</code> format, in 24-hour time.
The times do not need to be in order.</p>
<p>Days are specified as a list of case-insensitive strings, in English.
The days do not need to be in order.</p>
<pre class="highlight"><code class="language-yaml">buildarr:
  update_times:
    - "06:00"
    - "12:00"
    - "18:00"
    - "00:00"</code></pre>
<p>This configuration option can be overridden using the <code>--update-times</code> command line argument.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="buildarr.config.buildarr.BuildarrConfig.secrets_file_path" class="doc doc-heading">
<code class="highlight language-python">secrets_file_path: Path = Path('secrets.json')</code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#buildarr.config.buildarr.BuildarrConfig.secrets_file_path" class="headerlink" title="Permanent link">#</a></h5>


  <div class="doc doc-contents ">
  
      <p>Path to store the Buildarr instance secrets file.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="buildarr.config.buildarr.BuildarrConfig.request_timeout" class="doc doc-heading">
<code class="highlight language-python">request_timeout: PositiveFloat = 30</code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#buildarr.config.buildarr.BuildarrConfig.request_timeout" class="headerlink" title="Permanent link">#</a></h5>


  <div class="doc doc-contents ">
  
      <p>The timeout for any API requests Buildarr makes (in seconds).</p>
<p>If the timeout is reached, an error will occur and Buildarr will stop the update process.</p>
<p><em>Added in version 0.3.0.</em></p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="buildarr.config.buildarr.BuildarrConfig.trash_metadata_download_url" class="doc doc-heading">
<code class="highlight language-python">trash_metadata_download_url: AnyHttpUrl = 'https://github.com/TRaSH-/Guides/archive/refs/heads/master.zip'</code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#buildarr.config.buildarr.BuildarrConfig.trash_metadata_download_url" class="headerlink" title="Permanent link">#</a></h5>


  <div class="doc doc-contents ">
  
      <p>URL to download the latest TRaSH-Guides metadata from.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="buildarr.config.buildarr.BuildarrConfig.trash_metadata_dir_prefix" class="doc doc-heading">
<code class="highlight language-python">trash_metadata_dir_prefix: Path = Path('Guides-master')</code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#buildarr.config.buildarr.BuildarrConfig.trash_metadata_dir_prefix" class="headerlink" title="Permanent link">#</a></h5>


  <div class="doc doc-contents ">
  
      <p>Metadata directory name within the downloaded ZIP file.</p>
  </div>

</div>





  </div>

  </div>

</div></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
